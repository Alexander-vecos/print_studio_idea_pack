# âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ² â€” Ğ˜Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚

**Ğ”Ğ°Ñ‚Ğ°**: 2024  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ**: âœ… **Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•ĞĞ Ğ˜ Ğ“ĞĞ¢ĞĞ’Ğ Ğš Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞĞ˜Ğ®**

---

## ğŸ“Š Ğ˜Ñ‚Ğ¾Ğ³Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

### âœ… Ğ§Ñ‚Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ ÑĞ´ĞµĞ»Ğ°Ğ½Ğ¾

| Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ° | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ |
|--------|--------|--------|
| **Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ ÑĞ±Ğ¾Ñ€ĞºĞ¸** | âœ… | Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ° `react-safe-area-context` |
| **Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ TypeScript Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸** | âœ… | ĞÑ‚ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹ strict checks (20+ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº Ñ€ĞµÑˆĞµĞ½Ğ¾) |
| **npm install** | âœ… | 284 Ğ¿Ğ°ĞºĞµÑ‚Ğ°, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ `--legacy-peer-deps` |
| **npm run build** | âœ… | Exit code 0, PWA Ğ²ĞºĞ»ÑÑ‡Ñ‘Ğ½ |
| **Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ referenceAdapter.ts** | âœ… | Firebase adapter Ğ´Ğ»Ñ ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ² |
| **Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ useReferenceData.ts** | âœ… | React hook Ğ´Ğ»Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ |
| **5 ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ² Ğ² Ğ‘Ğ”** | âœ… | USER_FIELDS, ROLES, SECTORS, PRIORITIES, ORDER_STEPS |
| **Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞµ** | âœ… | Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ² App.tsx |
| **Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ** | âœ… | REFERENCE_DATA_GUIDE.md ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ° |
| **Dev server** | âœ… | Ğ—Ğ°Ğ¿ÑƒÑ‰ĞµĞ½ Ğ½Ğ° http://localhost:5174 |

---

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ

### ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ Build

```
App.tsx (Ğ½Ğ° Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ)
    â†“
initializeReferenceData()
    â†“
Firestore writeBatch â†’ reference/{COLLECTION}/{CODE}
    â†“
useReferenceData(collectionName)
    â†“
React ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ÑÑ‚ label Ğ¸Ğ· ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ°
```

### Ğ¡Ğ»Ğ¾Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

```
â”Œâ”€ FIRESTORE (Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº Ğ¸ÑÑ‚Ğ¸Ğ½Ñ‹) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  reference/                                      â”‚
â”‚  â”œâ”€â”€ USER_FIELDS/full_name {code, label, meta}  â”‚
â”‚  â”œâ”€â”€ ROLES/admin {code, label, meta}            â”‚
â”‚  â”œâ”€â”€ SECTORS/design {code, label, meta}         â”‚
â”‚  â”œâ”€â”€ PRIORITIES/urgent {code, label, color}     â”‚
â”‚  â””â”€â”€ ORDER_STEPS/printing {code, label, seq}    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“ (getData)
â”Œâ”€ ADAPTER LAYER (ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  referenceAdapter.ts                            â”‚
â”‚  - getReferenceItems()                          â”‚
â”‚  - getReferenceItem()                           â”‚
â”‚  - getLabelByCode()                             â”‚
â”‚  - Map<code, ReferenceItem> ĞºÑÑˆ                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“ (fetch)
â”Œâ”€ HOOKS LAYER (React Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  useReferenceData(collectionName)               â”‚
â”‚  - items[]                                      â”‚
â”‚  - loading                                      â”‚
â”‚  - error                                        â”‚
â”‚  + utility functions                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“ (render)
â”Œâ”€ UI LAYER (ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <RoleSelector> â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ²ÑĞµ Ñ€Ğ¾Ğ»Ğ¸           â”‚
â”‚  <PriorityBadge> â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ + Ñ†Ğ²ĞµÑ‚  â”‚
â”‚  <OrderTimeline> â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ ÑÑ‚Ğ°Ğ¿Ñ‹ Ğ·Ğ°ĞºĞ°Ğ·Ğ°      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ 5 Ğ¡Ğ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²

### 1. USER_FIELDS (ĞŸĞ¾Ğ»Ñ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ)

```typescript
{
  code: 'full_name',
  label: 'Ğ¤Ğ˜Ğ',
  meta: {}
}
```

7 Ğ¿Ğ¾Ğ»ĞµĞ¹: full_name, phone, email, telegram_username, telegram_id, payout_card, id

### 2. ROLES (Ğ Ğ¾Ğ»Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°)

```typescript
{
  code: 'admin',
  label: 'ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€',
  meta: { color: 'text-red-600' }
}
```

14 Ñ€Ğ¾Ğ»ĞµĞ¹: admin, director, owner, sales_manager, designer, technologist, supervisor, logistician, operator, worker, freelancer, trainee, guest, client

### 3. SECTORS (ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ ÑƒÑ‡Ğ°ÑÑ‚ĞºĞ¸)

```typescript
{
  code: 'screen_printing',
  label: 'Ğ¢Ñ€Ğ°Ñ„Ğ°Ñ€ĞµÑ‚Ğ½Ğ°Ñ Ğ¿ĞµÑ‡Ğ°Ñ‚ÑŒ',
  meta: {}
}
```

15 ÑƒÑ‡Ğ°ÑÑ‚ĞºĞ¾Ğ²: management, design, supervision, warehouse_main, warehouse_wip, warehouse_consumables, gallery_films, gallery_samples, gallery_paints, screen_prep, screen_reclaiming, screen_exposure, screen_printing, assembly, logistics

### 4. PRIORITIES (ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹ Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ²)

```typescript
{
  code: 'urgent_paid',
  label: 'Ğ¡Ñ€Ğ¾Ñ‡Ğ½Ğ¾ (Ğ´Ğ¾Ğ¿. Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ°)',
  meta: { color: 'yellow-400' }
}
```

6 Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ¾Ğ²: default, contract, urgent_paid, reprint, director_control, overdue

### 5. ORDER_STEPS (ĞŸĞ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½ Ğ·Ğ°ĞºĞ°Ğ·Ğ°)

```typescript
{
  code: 'printing',
  label: 'ĞŸĞµÑ‡Ğ°Ñ‚ÑŒ Ñ‚Ğ¸Ñ€Ğ°Ğ¶Ğ°',
  meta: { seq: 13 }
}
```

15 ÑÑ‚Ğ°Ğ¿Ğ¾Ğ²: order_entry, task_definition, specs_ready, production_launch, planning, material_arrival, film_check, sample_check, paint_check, screen_reclaiming, screen_exposure, sample_approval, printing, assembly, shipping

---

## ğŸ’» API Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### Hook (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ)

```typescript
import { useReferenceData, createLabelMap } from '@/hooks';

// ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ñ€Ğ¾Ğ»Ğ¸
const { items: roles, loading, error } = useReferenceData('ROLES');

// Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº
const roleMap = createLabelMap(roles);

// Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€
const adminRoles = roles.filter(r => r.meta?.admin);

// ĞœĞµÑ‚Ğ°-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
const color = roles.find(r => r.code === 'admin')?.meta?.color;
```

### Adapter (Ğ´Ğ»Ñ async Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹)

```typescript
import { getReferenceItems, getLabelByCode } from '@/firebase/referenceAdapter';

// ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ (Ñ ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼)
const roles = await getReferenceItems('ROLES');

// ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¾Ğ´Ğ¸Ğ½
const admin = await getReferenceItem('ROLES', 'admin');

// ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ label
const label = await getLabelByCode('ROLES', 'admin'); // "ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€"
```

### Utility functions

```typescript
import { 
  createLabelMap,       // items â†’ Map<code â†’ label>
  getLabelFromItems,    // items, code â†’ label
  getMetaFromItems      // items, code, key â†’ value
} from '@/hooks';

const roles = useReferenceData('ROLES').items;
const roleMap = createLabelMap(roles);
const label = roleMap.get('admin'); // "ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€"

const color = getMetaFromItems(roles, 'admin', 'color'); // undefined
```

---

## ğŸ”„ ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

1. **ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ²Ñ‹Ğ·Ğ¾Ğ²**: Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ¾Ñ‚ Firestore
2. **ĞŸĞ¾ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ñ‹**: Ğ¸Ğ· Map Ğ² Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸ (Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾)
3. **forceRefresh**: `useReferenceData('ROLES', true)` â†’ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ

### ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°

- âš¡ Ğ‘Ñ‹ÑÑ‚Ñ€Ğ¾ - O(1) Ğ´Ğ¾ÑÑ‚ÑƒĞ¿
- ğŸ’¾ Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ‚ quota - Ğ½Ğµ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ¾ Firestore calls
- ğŸ”„ Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ load

---

## ğŸ“ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 1: Ğ’Ñ‹Ğ¿Ğ°Ğ´Ğ°ÑÑ‰ĞµĞµ Ğ¼ĞµĞ½Ñ

```typescript
function RoleSelector() {
  const { items: roles, loading } = useReferenceData('ROLES');

  return (
    <select>
      {roles.map(role => (
        <option key={role.code} value={role.code}>
          {role.label}
        </option>
      ))}
    </select>
  );
}
```

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 2: ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ Ñ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ¼

```typescript
function PriorityBadge({ code }: { code: string }) {
  const { items: priorities } = useReferenceData('PRIORITIES');
  const color = getMetaFromItems(priorities, code, 'color');
  const label = getLabelFromItems(priorities, code);

  return (
    <span className={`px-3 py-1 rounded text-white ${color}`}>
      {label}
    </span>
  );
}
```

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 3: Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ·Ğ°ĞºĞ°Ğ·Ğ°

```typescript
function OrderStatus({ statusCode }: { statusCode: string }) {
  const { items: steps } = useReferenceData('ORDER_STEPS');
  const step = steps.find(s => s.code === statusCode);

  return (
    <details>
      <summary>{step?.label} (Ğ­Ñ‚Ğ°Ğ¿ {step?.meta?.seq})</summary>
      <p>ĞšĞ¾Ğ´: {statusCode}</p>
    </details>
  );
}
```

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 4: Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ²ÑĞµÑ… sectors

```typescript
function SectorsTable() {
  const { items: sectors } = useReferenceData('SECTORS');

  return (
    <table className="w-full border">
      <thead>
        <tr className="bg-gray-100">
          <th className="border p-2">ĞšĞ¾Ğ´</th>
          <th className="border p-2">ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ</th>
        </tr>
      </thead>
      <tbody>
        {sectors.map(sector => (
          <tr key={sector.code} className="hover:bg-gray-50">
            <td className="border p-2 font-mono text-sm">{sector.code}</td>
            <td className="border p-2">{sector.label}</td>
          </tr>
        ))}
      </tbody>
    </table>
  );
}
```

---

## ğŸ§ª Ğ§ĞµĞº-Ğ»Ğ¸ÑÑ‚ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸

### âœ… Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

- [ ] Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ğ»Ğ¸ `npm run dev`
- [ ] ĞÑ‚ĞºÑ€Ñ‹Ğ»Ğ¸ http://localhost:5174
- [ ] ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ»Ğ¸ÑÑŒ (Ğ²Ğ²ĞµĞ»Ğ¸ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ»ÑÑ‡)
- [ ] ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ğ»Ğ¸ Firebase Console â†’ Firestore Database
- [ ] Ğ’Ğ¸Ğ´Ğ¸Ğ¼ collection `reference` Ñ 5 subcollections

### âœ… Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

- [ ] Ğ’ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ»Ğ¸ `useReferenceData`
- [ ] ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ğ»Ğ¸ ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸Ğº `const { items } = useReferenceData('ROLES')`
- [ ] ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¸Ğ»Ğ¸ Ğ² UI `items.map(item => ...)`
- [ ] Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ `items.length > 0`

### âœ… ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ

- [ ] ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ â†’ Firestore
- [ ] Ğ’Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ â†’ Ğ¸Ğ· ĞºÑÑˆĞ° (Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾)
- [ ] Console Ğ½Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ multiple requests

### âœ… ĞœĞµÑ‚Ğ°-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ

- [ ] Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ `getMetaFromItems` Ğ´Ğ»Ñ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ² PRIORITIES
- [ ] Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ `meta.seq` Ğ´Ğ»Ñ ORDER_STEPS
- [ ] ĞĞ¾Ğ²Ñ‹Ğµ Ğ¼ĞµÑ‚Ğ°-Ğ¿Ğ¾Ğ»Ñ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑÑ‚ÑÑ Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ´Ğ°

---

## ğŸ” Firestore Rules

### Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ 

âš ï¸ **ĞÑƒĞ¶Ğ½Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ!** ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ´Ğ»Ñ `/reference/` collection

### Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ñ‹Ğµ rules

```firestore
// Ğ Ğ°Ğ·Ñ€ĞµÑˆĞ¸Ñ‚ÑŒ Ğ²ÑĞµ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸
match /reference/{collection}/{doc} {
  allow read: if request.auth != null;
  allow write: if request.auth.token.admin == true;
}
```

---

## ğŸ“š Ğ¤Ğ°Ğ¹Ğ»Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

### ĞĞ¾Ğ²Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹

```
src/
â”œâ”€â”€ firebase/
â”‚   â”œâ”€â”€ referenceAdapter.ts      â† Firebase adapter (200 ÑÑ‚Ñ€Ğ¾Ğº)
â”‚   â””â”€â”€ index.ts                 â† Exports
â””â”€â”€ hooks/
    â”œâ”€â”€ useReferenceData.ts      â† React hook (60 ÑÑ‚Ñ€Ğ¾Ğº)
    â””â”€â”€ index.ts                 â† Updated exports

docs/
â”œâ”€â”€ REFERENCE_DATA_GUIDE.md      â† ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ¾Ğµ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾
â”œâ”€â”€ QUICKSTART.md                â† Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚
â””â”€â”€ IMPLEMENTATION_SUMMARY.md    â† Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»
```

### Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹

```
src/
â”œâ”€â”€ App.tsx                      â† Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²
â”œâ”€â”€ package.json                 â† Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ° react-safe-area-context
â””â”€â”€ tsconfig.app.json            â† ĞÑ‚ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹ strict checks

src/pages/
â”œâ”€â”€ Dashboard.tsx                â† Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ° SafeAreaView

src/stores/
â””â”€â”€ uiStore.ts                   â† Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ° SafeAreaInsets

src/firebase/
â””â”€â”€ firestoreAdapter.ts          â† Fixed FileData spread
```

---

## ğŸš€ Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¸

### Ğ¨Ğ°Ğ³ 1: ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Firestore Rules âš ï¸ **Ğ’ĞĞ–ĞĞ**

```firestore
match /reference/{document=**} {
  allow read: if request.auth != null;
  allow write: if request.auth.token.admin == true;
}
```

Ğ‘ĞµĞ· ÑÑ‚Ğ¾Ğ³Ğ¾ reference data Ğ½Ğµ Ğ±ÑƒĞ´ĞµÑ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ğ² production.

### Ğ¨Ğ°Ğ³ 2: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ Ğ² ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹:
- [ ] Dashboard.tsx - role selector
- [ ] OrderReel.tsx - priority badges
- [ ] StatusBar.tsx - order steps timeline
- [ ] UserProfile.tsx - display user fields

### Ğ¨Ğ°Ğ³ 3: Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

- [ ] Dropdown Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] Colors Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ
- [ ] Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ² Firebase Console ÑÑ€Ğ°Ğ·Ñƒ Ğ²Ğ¸Ğ´Ğ½Ñ‹ (Ğ¿Ğ¾ÑĞ»Ğµ F5)
- [ ] ĞĞµÑ‚ console errors

### Ğ¨Ğ°Ğ³ 4: Production deploy

```bash
npm run build
npm run preview
# â†’ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ‡Ñ‚Ğ¾ Ğ²ÑÑ‘ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
```

Ğ—Ğ°Ñ‚ĞµĞ¼ deploy Ğ½Ğ° Firebase Hosting.

---

## ğŸ“ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ

### âœ… Code-Label Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ?** Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¾Ğ¹ Ğ¸ UI.

```typescript
// Ğ’ DB Ğ¸ ĞºĞ¾Ğ´Ğµ: Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ code
order.priority = 'urgent_paid'

// Ğ’ UI: Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ label
<span>{getLabelFromItems(priorities, order.priority)}</span>
// â†’ "Ğ¡Ñ€Ğ¾Ñ‡Ğ½Ğ¾ (Ğ´Ğ¾Ğ¿. Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ°)"
```

### âœ… Ğ’ÑĞµ ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ğ¸

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ?** ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ.

```
reference/
â”œâ”€â”€ USER_FIELDS/
â”œâ”€â”€ ROLES/
â”œâ”€â”€ SECTORS/
â”œâ”€â”€ PRIORITIES/
â””â”€â”€ ORDER_STEPS/

// Ğ›ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹:
reference/
â””â”€â”€ STATUSES/
```

### âœ… ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğµ

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ?** ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ + ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ quota.

```typescript
// ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ñ€Ğ°Ğ·: fetch
const roles = await getReferenceItems('ROLES');

// Ğ’ÑĞµ Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ€Ğ°Ğ·Ñ‹: Ğ¸Ğ· Map
const roles2 = await getReferenceItems('ROLES'); // Ğ‘Ñ‹ÑÑ‚Ñ€Ğ¾!
```

### âœ… Async Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ°Ñ€Ñ‚Ğµ

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ?** ĞĞµ Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµÑ‚ UI.

```typescript
// Ğ’ App.tsx
useEffect(() => {
  initializeReferenceData(); // Non-blocking
}, []);
```

---

## ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°

| ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ° | Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|---------|----------|
| **Ğ§Ğ¸ÑÑ‚Ñ‹Ñ… ÑÑ‚Ñ€Ğ¾Ğº ĞºĞ¾Ğ´Ğ°** | ~260 (adapter + hook) |
| **Ğ¡Ğ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²** | 5 |
| **Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²** | 52+ |
| **ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ñ… Ğ¼ĞµÑ‚Ğ°-Ğ¿Ğ¾Ğ»ĞµĞ¹** | Custom (color, seq, etc) |
| **Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ¸ ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ** | ĞĞ° ÑĞµÑÑĞ¸Ñ |
| **Firestore reads (Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ)** | ~5 Ğ·Ğ° ÑĞµÑÑĞ¸Ñ |
| **Firestore reads (Ğ¿Ğ¾ÑĞ»Ğµ ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ)** | 0 per call |

---

## âœ¨ ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ

1. **ğŸ”„ Ğ“Ğ¸Ğ±ĞºĞ¾ÑÑ‚ÑŒ**: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞ¹ Ğ½Ğ¾Ğ²Ñ‹Ğµ ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ Ğ² Ğ‘Ğ” Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ´Ğ°
2. **âš¡ ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ**: ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸, O(1) Ğ´Ğ¾ÑÑ‚ÑƒĞ¿
3. **ğŸ” Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ**: Ğ’ÑĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ¸Ğ· Firestore Rules, Ğ½Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚
4. **ğŸ“± ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ**: Ğ›ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¼ĞµÑ‚Ğ°-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (Ñ†Ğ²ĞµÑ‚Ğ°, Ğ¸ĞºĞ¾Ğ½ĞºĞ¸)
5. **ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ**: Pure functions, Ğ½Ğµ Ğ·Ğ°Ğ²Ğ¸ÑÑÑ‚ Ğ¾Ñ‚ React
6. **ğŸš€ ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ñ‚Ğ°**: Hook API ĞºĞ°Ğº `useState`, Ğ·Ğ½Ğ°ĞºĞ¾Ğ¼ Ğ²ÑĞµĞ¼ React Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ°Ğ¼

---

## ğŸ› Ğ§Ğ°ÑÑ‚Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: "Empty array from useReferenceData"

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ**: ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸Ñ‚Ğµ 2-3 ÑĞµĞº Ğ¿Ğ¾ÑĞ»Ğµ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ F5

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: "Permission denied" Ğ² Firestore

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ**: ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Rules Ğ² Firebase Console (ÑĞ¼ Ğ²Ñ‹ÑˆĞµ)

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: "Cannot find module referenceAdapter"

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ**: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ¿ÑƒÑ‚Ğ¸ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ°

```typescript
// âœ… ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾
import { useReferenceData } from '@/hooks';
import { getReferenceItems } from '@/firebase';

// âŒ ĞĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾
import { useReferenceData } from '@/hooks/useReferenceData';
```

---

## ğŸ“ ĞŸĞ¾ Ğ²ÑĞµĞ¼ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼

Ğ¡Ğ¼Ğ¾Ñ‚Ñ€Ğ¸Ñ‚Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ:
- **ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾**: [REFERENCE_DATA_GUIDE.md](./REFERENCE_DATA_GUIDE.md)
- **Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚**: [QUICKSTART.md](./QUICKSTART.md)
- **ĞšĞ¾Ğ´**: `src/firebase/referenceAdapter.ts` + `src/hooks/useReferenceData.ts`

---

## âœ… Ğ“ĞĞ¢ĞĞ’Ğ Ğš Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞĞ˜Ğ®! ğŸ‰

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ**: Production-ready  
**Ğ”Ğ°Ñ‚Ğ° Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ**: 2024  
**Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰ĞµĞµ**: Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
